# チーム開発ルール

## 概要

このドキュメントは、{{PROJECT_NAME}} プロジェクトにおけるチーム開発の効率化と品質向上を目的として、開発作業における共有ルールをまとめたものです。

## 1. プロジェクト管理ルール

### 1.1 イシュー管理

- **イシューの作成**: 新機能やバグ修正は必ずイシューを作成してから作業開始
- **イシューの命名**: 明確で分かりやすいタイトルを使用
- **ラベルの活用**: `enhancement`, `bug`, `documentation`, `frontend`, `backend` 等のラベルを適切に使用
- **アサイニー**: 責任者を明確に設定

### 1.2 プルリクエスト管理

- **ブランチ戦略**:
  - 必ず `develop` ブランチから `feature/issue-number-description` の形式でブランチを作成
  - 新機能開発・バグ修正は全て `develop` ブランチをベースとする
  - `main` ブランチは本番環境用のため、直接の作業ブランチとして使用しない
- **PR 作成前**: 必ずイシューと紐づけて作成
- **PR 説明**: 変更内容、影響範囲、テスト結果を明記
- **レビュー**: 最低 1 名のレビューを必須とする
- **マージ**: レビュー承認後に `develop` ブランチへマージ
- **本番リリース**: `develop` から `main` へのマージはスプリントごとに実施

### 1.3 重複管理の回避

- **重複イシュー**: 類似のイシューが存在しないか確認してから作成
- **重複 PR**: 同じ作業を複数の PR で行わないよう注意
- **誤作成**: 誤って作成したイシューや PR は速やかにクローズ

## 2. ドキュメント管理ルール

### 2.1 ドキュメント作成

- **README.md**: プロジェクトの概要とセットアップ手順
- **CLAUDE.md**: 開発ガイドとアーキテクチャ情報
- **docs/**: 詳細な技術ドキュメント

### 2.2 ドキュメント更新

- **機能追加時**: 関連ドキュメントを必ず更新
- **設定変更時**: 影響を受けるドキュメントを更新
- **バージョン管理**: ドキュメントもコードと同様にバージョン管理

### 2.3 ドキュメント品質

- **正確性**: 実際の実装と一致させる
- **最新性**: 古い情報を残さない
- **分かりやすさ**: 新メンバーでも理解できる内容

## 3. 開発環境ルール

### 3.1 環境設定

- **VS Code 設定**: `.vscode/settings.json` で統一
- **Cursor 設定**: `.cursor/rules/` で開発規約を管理
- **依存関係**: `package.json` (Frontend), `requirements.txt` (Backend) で管理

### 3.2 開発規約

- **コーディングスタイル**: `.cursor/rules/code_style.mdc` に従う
- **コミット規約**: `.cursor/rules/commit_message.mdc` に従う
- **テスト規約**: `.cursor/rules/testing.mdc` に従う

### 3.3 ツール活用

- **GitHub CLI**: 効率的な GitHub 操作のため活用
- **自動フォーマット**: 保存時の自動フォーマットを有効化
- **リンター**: コード品質の自動チェック

## 4. コミュニケーションルール

### 4.1 進捗共有

- **イシュー更新**: 作業開始・完了時にイシューを更新
- **PR 説明**: 変更内容を詳細に記述
- **コメント**: 質問や懸念点は積極的にコメント

### 4.2 情報共有

- **技術的決定**: 重要な技術的決定はドキュメント化
- **問題解決**: 解決した問題は解決方法を共有
- **ベストプラクティス**: 良い実装例はチームで共有

### 4.3 レビュー文化

- **建設的フィードバック**: 改善提案を積極的に行う
- **学習機会**: レビューを通じて知識を共有
- **品質向上**: コード品質の向上を目指す

## 5. セキュリティルール

### 5.1 認証情報管理

- **トークン管理**: GitHub Personal Access Token 等は適切に管理
- **環境変数**: 機密情報は環境変数で管理
- **設定ファイル**: 認証情報を設定ファイルに直接記述しない

### 5.2 データ保護

- **個人情報**: ユーザーデータの適切な取り扱い
- **ログ管理**: 機密情報をログに出力しない
- **アクセス制御**: 適切な権限設定

## 6. 品質保証ルール

### 6.1 テスト

- **テスト必須**: 新機能・修正には必ずテストを追加
- **カバレッジ**: {{TEST_COVERAGE_TARGET}}%以上のテストカバレッジを維持
- **自動テスト**: CI/CD での自動テスト実行

### 6.2 コード品質

- **リファクタリング**: 定期的なコード改善
- **技術的負債**: 技術的負債の蓄積を避ける
- **パフォーマンス**: パフォーマンス要件の遵守

## 7. リリース管理ルール

### 7.1 バージョン管理

- **セマンティックバージョニング**: 適切なバージョン番号の管理
- **リリースノート**: 変更内容の明確な記録
- **タグ管理**: リリース時の適切なタグ付け

### 7.2 デプロイメント

- **段階的リリース**: 本番環境への段階的なリリース
- **ロールバック**: 問題発生時の迅速なロールバック手順
- **監視**: リリース後の適切な監視

## 8. 緊急時対応ルール

### 8.1 インシデント対応

- **迅速な対応**: 問題発生時の迅速な対応
- **情報共有**: 関係者への適切な情報共有
- **記録**: インシデントの詳細な記録

### 8.2 復旧手順

- **復旧手順書**: 事前に復旧手順を文書化
- **バックアップ**: 適切なバックアップ戦略
- **テスト**: 復旧手順の定期的なテスト

## 9. ツール活用ルール

### 9.1 AI ツール活用

- **Claude Code**: コード生成・レビュー・リファクタリング支援
- **効率化**: 手動操作を減らし、AI 支援を活用
- **品質向上**: 一貫した操作による品質向上

### 9.2 開発ツール

- **IDE 設定**: 統一された開発環境
- **拡張機能**: 有用な拡張機能の共有
- **ショートカット**: 効率的な操作のためのショートカット

## 10. ルールの更新

### 10.1 定期的見直し

- **四半期レビュー**: 四半期ごとのルール見直し
- **フィードバック収集**: チームメンバーからのフィードバック収集
- **改善提案**: ルールの改善提案の受付

### 10.2 変更管理

- **変更理由**: ルール変更の明確な理由
- **影響分析**: 変更による影響の分析
- **周知徹底**: 変更内容のチーム全体への周知

## 11. 参考資料

### 11.1 関連ドキュメント

- [README.md](../README.md): プロジェクト概要
- [CLAUDE.md](../CLAUDE.md): 開発ガイド
- [コードレビューガイドライン](dev/REVIEW.md): レビュー基準

### 11.2 外部リソース

- [Next.js 公式ドキュメント](https://nextjs.org/docs)
- [FastAPI 公式ドキュメント](https://fastapi.tiangolo.com/)
- [PostgreSQL 公式ドキュメント](https://www.postgresql.org/docs/) (PostgreSQL 使用時)
- [MySQL 公式ドキュメント](https://dev.mysql.com/doc/) (MySQL 使用時)
- [GitHub 公式ドキュメント](https://docs.github.com/)

---

**注意**: このドキュメントは定期的に更新され、チームの成長と共に進化していきます。ルールの改善提案があれば、積極的にフィードバックしてください。
